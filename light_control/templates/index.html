<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Becurilor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Control Becurilor</h1>
        <div class="light-control">
            <h2>Becul Owl</h2>
            <button onclick="toggleLight('owl', true)">Pornit</button>
            <button class="off" onclick="toggleLight('owl', false)">Oprit</button>
        </div>
        <div class="light-control">
            <h2>Becul din Dormitor</h2>
            <button onclick="toggleLight('bedroom_light', true)">Pornit</button>
            <button class="off" onclick="toggleLight('bedroom_light', false)">Oprit</button>
        </div>
        <div class="light-control">
            <h2>Becul Colorat din Dormitor</h2>
            <button onclick="toggleLight('bedroom_color_light', true)">Pornit</button>
            <button class="off" onclick="toggleLight('bedroom_color_light', false)">Oprit</button>
            <div class="color-picker">
                <label for="bedroom_color">Alege culoarea:</label>
                <input type="color" id="bedroom_color" name="bedroom_color" onchange="setColor('bedroom_color_light', this.value)">
            </div>
        </div>
        <div class="light-control">
            <h2>Becul de pe Birou</h2>
            <button onclick="toggleLight('desk_light', true)">Pornit</button>
            <button class="off" onclick="toggleLight('desk_light', false)">Oprit</button>
        </div>
        <div class="light-control">
            <h2>Becul Colorat de pe Birou</h2>
            <button onclick="toggleLight('desk_color_light', true)">Pornit</button>
            <button class="off" onclick="toggleLight('desk_color_light', false)">Oprit</button>
            <div class="color-picker">
                <label for="desk_color">Alege culoarea:</label>
                <input type="color" id="desk_color" name="desk_color" onchange="setColor('desk_color_light', this.value)">
            </div>
        </div>
        <div class="light-control">
            <h2>BandÄƒ LED</h2>
            <button onclick="toggleLight('led_strip', true)">Pornit</button>
            <button class="off" onclick="toggleLight('led_strip', false)">Oprit</button>
        </div>
    </div>
    <script>
        function toggleLight(light, state) {
            fetch(`/api/${light}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({state: state}),
            })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error('Error:', error));
        }

        function setColor(light, color) {
            fetch(`/api/${light}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({color: color}),
            })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>
s